---
title : でんでんコンバーターで改ページする方法（アルテさんと僕）
link : 15432
date : Sat, 07 Feb 2015 03:27:44 +0000
categories : ["5-創作文"]
tags : ["アルテさんと僕","電子書籍"]
draft : false
author : 倉下忠憲
---

「アルテさん、ちょっといいですか」
「何？」
そう言いながらも、アルテさんはディスプレイから視線を外さない。高速で画面をスクロールさせているので、きっと資料集め中なのだろう。
「さっき試しにでんでんコンバーターでEPUBファイルを作ってみたんですよ」
「へぇ」
スクロール。スクロール。
「で、気になったところがあって」
「ふぅん」
スクロール。スクロール。
……。ごほん。
「作ったEPUBファイルをiBooksで読んでみたんですが、特に問題なく、というか綺麗に仕上がってました」
「でしょうね」
「でも、文章が切れ目なく続いていくんですよ。でも、前にアルテさんからもらった『名もなき魔女は、森の奥で静かに泣く』は章ごとにページが切れているんですよ」
急にアルテさんはくるっと向き直り、こちらに顔を近づけてくる。
「で、面白かった？」
「えっ？」
「面白かったかって聞いてるの」
「あぁ、作品の話ですか。面白かったですよ。序盤ちょっと説明的すぎてもたついている感はありますけど、中盤から一気に引き込まれました。特に魔女が鏡に吸い込まれていくところなんて圧巻です」
そう、とだけ言ってアルテさんは黙り込む。妙に視線を合わせようとしない。
「もしかして、あれってアルテさんが書いたんですか」
コクリ、と頷くアルテさん。
「だったら先に言ってくださいよ」と不満を返す僕。面白いという感想だったから良かったものの、こき下ろしていたらと思うと背筋が寒くなる。
「……だって、ちゃんとした感想が欲しかったから」
作品のことになると、普段の気の強さは台風に吹き飛ばされたかのようにどこかに行ってしまう。こちらも調子が狂う。
「あ、いや、その……、ちゃんと言いますよ。面白かったら面白いと、詰まらなかったら詰まらないと」
「ホントに？」
「もちろん」
「じゃあ、次からはちゃんと言う」
「お願いします」と言って話が終わりかけたが、僕の問題はまったく解決していなかった。
「で、本は面白かったんですが、この文章の区切りはどうやって作っているんですか？」
こほんと咳払いをし、少しずれた眼鏡を直すアルテさん。たったそれだけのことで身に纏う雰囲気が一変する。
「それは改ページのことね」
「改ページ？」
「そう。名前の通りページを改めるということ。電子書籍の場合、ごく普通に作ればページの切れ目なく延々と文章が続いてしまうの。Webサイトでもあるでしょう。やたら縦に長いページが。ああいうのと同じね」
「なるほど」
「だから、どこかでページを改めたければ、その指定が必要なの」
「ははぁ。わかりました。たぶんBRタグみたいなのがあるんですね。PBRタグとか、そういうの」
「残念ながらハズレ。でも、発想の方向は悪くない。HTMLタグではなく、CSSでコントロールするの」
「CSSって、たしか文字サイズを変えるやつじゃなかったでしたっけ？」
「それはCSSの機能のごく一部。もっと幅広いことができるし、改ページもその中の一つ」
「じゃあ、どうやって指定するんですか？」
前のめりに尋ねる僕に、アルテさんは右手を伸ばして抑止をかける。
「ちょっと待ってね。その前に、でんでんコンバーターを使って改ページを入れる場合、大きく二つの手法があるの」
「ふむふむ」
「まず一つが、ファイルを分割すること」
「ファイルを分割」
「そう。前にも言ったけどEPUBファイルの中身はさまざまなファイルの詰め合わせになっている。で、本文に当たるものはxhtmlファイルが担当する。ようするにWebページね。さて問題。ものすごく容量の大きいWebページを開いたらどうなる？」
「そりゃ回線の速度によっては、表示が遅れるでしょうね」
「その通り。で、EPUBファイルでも同様の問題が懸念される」
「なるほど」
「なので、文字数の多い電子書籍は一つのxhtmlファイルではなくて、いくつかのファイルに分割しておくのが一応のマナーです。でんでんコンバーターだと、半角のイコール記号３つ以上で構成された行を入れると、そこでファイルを分割してくれます。で、そこで自動的に改ページが行われるの」
「つまり、ファイルとファイルの切れ目が、ページとページの切れ目になるってことですね」
「そうです。で、まずはこの方法を使うと良いと思う。簡単だから」
「ちなみに、もう一つの方法って、さっき言ってたCSSを使うんですよね」
「そう。これはファイル分割をせず、ただ単に表示上で改ページを入れるの。一応説明しておくと、page-breakを使う。page-break-beforeはその要素の直前に改ページを、page-break-afterはその要素の直後に改ページを入れる。たとえば、次のように書けば、h2タグの直前に必ず改ページが入る」
アルテさんがディスプレイに向き直り、タタタとキーボードを打ち込んでいく。

h2 {
	page-break-before: always; 
}

「alwaysは常に、という意味ですよね。他にはあるんですか」
「いくつかあるけど、覚えておくのは≪auto≫と≪avoid≫の二種類だけでいい。≪auto≫は特に指定しないという意味で、これがデフォルトの設定。≪avoid≫は絶対に改ページしないという指定。二つの要素を別ページで表示させたくないときなんかに使えるわね」
「なるほど。page-break-afterは逆の使い方になるわけですね」
「まあ、あまり出番はないかもしれないけど。ページ最後のPタグに指定したり、あるいは空っぽのspanタグをページの最後に置いたりすれば使えると思うわ。やったことないけど」

span.end {
	page-break-after: always; 
}

「わかりました。とりあえずファイル分割での改ページにチャレンジしてみます」
「がんばって。まあ、イコール３つ入れるだけだから、失敗しようもないと思うけど」
僕が自分の端末を立ち上げると、アルテさんもスクロール作業へと戻っていった。作文部の部室に、再び静寂が戻る。
